<div class="position-fixed w-100 h-100 p-3 p-md-5 popup" *ngIf="statePopup">
  <div class="fondoPopUp"></div>

  <div class="contenedorArchivo m-auto text-center position-relative">
    <!--BOTÓN DE CERRAR-->
    <div class="w-auto position-relative d-inline-block text-right">
      <button
        title="Close (Esc)"
        type="button"
        class="mfp-close position-relative text-white"
        (click)="cerrarPopup()"
      >
        ×
      </button>
      <!--VIDEO-->
      <ng-container *ngIf="popup.mimeType?.includes('video')">
        <video
          controls
          preload="none"
          [poster]="popup.thumbnailLink"
          width="100%"
          playsinline
        >
          <source [src]="popup.webViewLink" type="video/mp4" />
          Video not supported
        </video>
      </ng-container>
      <!--FOTO-->
      <ng-container *ngIf="popup.mimeType?.includes('image')">
        <img
          [src]="urlImg + popup.id"
          [alt]="popup.name"
          class="mt-1 img-fluid"
        />
      </ng-container>
    </div>
    <!--ETIQUETAS-->
    <ng-container *ngIf="etiquetas.length">
      <div class="form-group flex-column d-flex panel-info">
        <div class="form-group mb-0">
          Tags:
          <ul *ngIf="etiquetas.length" class="ulEtiquetas">
            <li
              *ngFor="let etiqueta of etiquetas"
              class="badge badge-secondary"
            >
              {{ etiqueta.name }}
              <!-- <i (click)="borrarEtiqueta(etiqueta)" class="icon-trash"></i> -->
            </li>
          </ul>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!etiquetas.length">
      <div class="form-group flex-column d-flex panel-info text-white">
        Cargando etiquetas...
      </div>
    </ng-container>
  </div>
</div>

<div
  class="position-fixed w-100 h-100 p-3 p-md-5 popup"
  *ngIf="stateMultiPopup"
>
  <div class="fondoPopUp"></div>
  <button class="btn btn-danger" (click)="cerrarMultiPopup()">X</button>
  <div class="row">
    <h3>Añadir etiquetas</h3>
    <ng-content select="[header]"></ng-content>
    <div class="form-group mb-5">
      <input
        type="text input-form my-3"
        #inputName
        placeholder="Nombre de la etiqueta"
        class="p-1 m-md-2"
      />
      <button class="btn btn-warning input-form">Grabar</button>
    </div>

    <!-- TODO: BUSCADOR QUE SE AUTOCOMPLETA-->
    <!-- TODO: MOSTRAR LAS 10 ETIQUETAS MÁS USADAS PARA SELECCIONAR-->
    <h3>Meter en colección</h3>
    <!-- TODO: CREAR NUEVA COLECCIÓN O NAVEGAR POR LAS QUE HAY PARA SELECCIONAR UNA-->

    <!-- TODO: BOTÓN ELIMINAR TODAS-->
  </div>
  <hr />
  <h4>Archivos modificados:</h4>
  <div class="table-responsive">
    <table class="table">
      <thead class="thead">
        <tr class="row">
          <th class="col-2">Img</th>
          <th class="col-4">Nombre</th>
          <th class="col-4">Etiquetas</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of multiPopup" class="row">
          <td class="col-2">
            <img [src]="urlImg + item.id" [alt]="item.name" />
          </td>
          <td class="text-truncate name col-4">{{ item.name }}</td>
          <td class="col-4">
            <app-listado-etiquetas
              *ngIf="item.etiquetas"
              [arrayEtiquetas]="item.etiquetas"
            ></app-listado-etiquetas>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
