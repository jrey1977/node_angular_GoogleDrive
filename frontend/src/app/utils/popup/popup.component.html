<div
  class="position-fixed bg-white w-100 h-100 p-3 p-md-5 popup"
  *ngIf="statePopup"
>
  <button class="btn btn-danger" (click)="cerrarPopup()">X</button>
  <h2 class="text-center">{{ popup.name }}</h2>
  <div class="contenedorArchivo m-auto text-center">
    <!--VIDEO-->
    <ng-container *ngIf="popup.mimeType?.includes('video')">
      <video
        controls
        preload="none"
        [poster]="popup.thumbnailLink"
        width="100%"
        playsinline
      >
        <source [src]="popup.webViewLink" type="video/mp4" />
        Video not supported
      </video>
    </ng-container>
    <!--FOTO-->
    <ng-container *ngIf="popup.mimeType?.includes('image')">
      <img
        [src]="urlImg + popup.id"
        [alt]="popup.name"
        class="mt-4 img-fluid"
      />
    </ng-container>
    <!--ETIQUETAS-->
    <ng-container *ngIf="etiquetas.length">
      <div class="form-group flex-column d-flex">
        <label class="form-control-label pl-2">Etiquetas:</label>
        <ul *ngIf="etiquetas.length" class="ulEtiquetas">
          <li *ngFor="let etiqueta of etiquetas">
            {{ etiqueta.name }}
          </li>
        </ul>
      </div>
    </ng-container>
  </div>
</div>

<div
  class="position-fixed bg-white w-100 h-100 p-3 p-md-5 popup"
  *ngIf="stateMultiPopup"
>
  <button class="btn btn-danger" (click)="cerrarMultiPopup()">X</button>
  <div class="row">
    <h3>Añadir etiquetas</h3>
    <div class="form-group mb-5">
      <input
        type="text input-form my-3"
        #inputName
        placeholder="Nombre de la etiqueta"
        class="p-1 m-md-2"
      />
      <button class="btn btn-warning input-form">Grabar</button>
    </div>

    <!-- TODO: BUSCADOR QUE SE AUTOCOMPLETA-->
    <!-- TODO: MOSTRAR LAS 10 ETIQUETAS MÁS USADAS PARA SELECCIONAR-->
    <h3>Meter en colección</h3>
    <!-- TODO: CREAR NUEVA COLECCIÓN O NAVEGAR POR LAS QUE HAY PARA SELECCIONAR UNA-->

    <!-- TODO: BOTÓN ELIMINAR TODAS-->
  </div>
  <hr />
  <h4>Archivos modificados:</h4>
  <div class="table-responsive">
    <table class="table">
      <thead class="thead">
        <tr class="row">
          <th class="col-2">Img</th>
          <th class="col-4">Nombre</th>
          <th class="col-4">Etiquetas</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of multiPopup" class="row">
          <td class="col-2">
            <img [src]="urlImg + item.id" [alt]="item.name" />
          </td>
          <td class="text-truncate name col-4">{{ item.name }}</td>
          <td class="col-4">
            <app-listado-etiquetas
              [arrayEtiquetas]="item.etiquetas"
            ></app-listado-etiquetas>
            <ul>
              <li *ngFor="let tag of item.etiquetas">{{ tag }}</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
